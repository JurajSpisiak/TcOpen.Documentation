<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>TcoInspectors | TcOpen </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="TcoInspectors | TcOpen ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    <link rel="shortcut icon" href="../../../favicon.png">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc">
    <meta property="docfx:tocrel" content="../../toc">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <p class="text-logo">TcOpen</p>
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../../../articles/intro.html" title="Articles">Articles</a>
                      </li>
                      <li>
                          <a href="../../../api/index.html" title="API reference">API reference</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <a href="../../intro.html" title="Introduction" class="">Introduction</a>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Conventions</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../../Conventions/Conventions.html" title="General" class="">General</a>
                          </li>
                          <li class="">
                            <a href="../../Conventions/Component.html" title="Components" class="">Components</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">TcOpen Framework</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">TcoCore</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../TcOpenFramework/TcoCore/Introduction.html" title="Introduction" class="">Introduction</a>
                                </li>
                                <li class="">
                                  <a href="../../TcOpenFramework/TcoCore/TcoContext.html" title="TcoContext" class="">TcoContext</a>
                                </li>
                                <li class="">
                                  <a href="../../TcOpenFramework/TcoCore/TcoObject.html" title="TcoObject" class="">TcoObject</a>
                                </li>
                                <li class="">
                                  <a href="../../TcOpenFramework/TcoCore/TcoTask.html" title="TcoTask" class="">TcoTask</a>
                                </li>
                                <li class="">
                                  <a href="../../TcOpenFramework/TcoCore/TcoState.html" title="TcoState" class="">TcoState</a>
                                </li>
                                <li class="">
                                  <a href="../../TcOpenFramework/TcoCore/TcoSequencer.html" title="TcoSequencer" class="">TcoSequencer</a>
                                </li>
                                <li class="">
                                  <a href="../../TcOpenFramework/TcoCore/TcoComponent.html" title="TcoComponent" class="">TcoComponent</a>
                                </li>
                                <li class="">
                                  <a href="../../TcOpenFramework/TcoCore/TcoMessenger.html" title="TcoMessenger" class="">TcoMessenger</a>
                                </li>
                                <li class="">
                                  <a href="../../TcOpenFramework/TcoCore/TcoLogger.html" title="TcoLogger" class="">TcoLogger</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">TcoData</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../TcOpenFramework/TcoData/Introduction.html" title="Introduction" class="">Introduction</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">TcoInspectors</a>
                              
                              <ul class="nav level3">
                                <li class="active">
                                  <a href="../../TcOpenFramework/TcoInspectors/Introduction.html" title="Introduction" class="active">Introduction</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">Howto(s)</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../TcOpenFramework/howtos/How_to_get_started_using_tcopen_libraries/article.html" title="How to get started using TcOpen libraries" class="">How to get started using TcOpen libraries</a>
                                </li>
                                <li class="">
                                  <a href="../../TcOpenFramework/howtos/How_to_write_a_sequence/article.html" title="How to write a sequence" class="">How to write a sequence</a>
                                </li>
                                <li class="">
                                  <a href="../../TcOpenFramework/howtos/How_to_include_tcopen_in_a_project/article.html" title="How to include TcOpen in a project" class="">How to include TcOpen in a project</a>
                                </li>
                              </ul>  </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">TcOpen Inxton</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../../Inxton/Colors_wpf.html" title="Colors Material Design WPF" class="">Colors Material Design WPF</a>
                          </li>
                          <li class="">
                            <a href="../../Inxton/InxtonConventions.html" title="Inxton Conventions" class="">Inxton Conventions</a>
                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">Inxton.Vortex.Framework.Blazor</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../Inxton/Inxton_vortex_framework_blazor/Inxton_vortex_framework_blazor.html" title="Introduction and installing" class="">Introduction and installing</a>
                                </li>
                                <li class="">
                                  <a href="../../Inxton/Inxton_vortex_framework_blazor/Renderablecontentcontrol.html" title="RenderableContentControl" class="">RenderableContentControl</a>
                                </li>
                                <li class="">
                                  <a href="../../Inxton/Inxton_vortex_framework_blazor/Layouts.html" title="Layouts" class="">Layouts</a>
                                </li>
                                <li class="">
                                  <a href="../../Inxton/Inxton_vortex_framework_blazor/Custom_libraries.html" title="Custom libraries" class="">Custom libraries</a>
                                </li>
                                <li class="">
                                  <a href="../../Inxton/Inxton_vortex_framework_blazor/Security.html" title="Security" class="">Security</a>
                                </li>
                              </ul>  </li>
                        </ul>  </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="tcoinspectors">TcoInspectors</h1>

<p><a href="../../../api/TcoInspectors/PlcDocu.TcoInspectors.TcoInspector.html">API</a></p>
<p>Inspectors provide mechanisms for checking the different types of data. Inspector compares input data with the required value. In addition to a simple comparison of values, the inspector provides stabilization timing and timeout for failed inspection. Inspectors can integrate with coordination primitives like <code>TcoSequencer</code> that offer extended capabilities in decision flow for failed checks.</p>
<h2 id="general">General</h2>
<p><a href="../../../api/TcoInspectors/PlcDocu.TcoInspectors.TcoInspector.html">API</a></p>
<p><a href="../../../api/TcoInspectors/PlcDocu.TcoInspectors.TcoInspectorData.html">Data</a></p>
<p>Basic settings</p>
<img width="1213" alt="image" src="https://user-images.githubusercontent.com/61538034/156206482-d4ac4536-f10e-453a-9cf5-726cbc5ed570.png">
<p>Common inspector details
<img width="1202" alt="image" src="https://user-images.githubusercontent.com/61538034/156206656-ff1bacd3-b249-4ecb-91d6-8429f97510cb.png"></p>
<h2 id="inspector-types">Inspector types</h2>
<h3 id="tcodigitalinspector">TcoDigitalInspector</h3>
<p><a href="../../../api/TcoInspectors/PlcDocu.TcoInspectors.TcoDigitalInspector.html">API</a></p>
<p><a href="../../../api/TcoInspectors/PlcDocu.TcoInspectors.TcoDigitalInspectorData.html">Data</a></p>
<p>Inspector provides evaluation of <code>discrete</code> value. The input value compares against the <code>Required</code> value. The inspection passes when the input value matches the required value without interruption for the duration of stabilization time.</p>
<h3 id="tcoanalogueinspector">TcoAnalogueInspector</h3>
<p><a href="../../../api/TcoInspectors/PlcDocu.TcoInspectors.TcoAnalogueInspector.html">API</a></p>
<p><a href="../../../api/TcoInspectors/PlcDocu.TcoInspectors.TcoAnalogueInspectorData.html">Data</a></p>
<p>Provides evaluation of <code>continuous</code> values. The inspector checks that the input value falls within the limit of <code>Min</code> and <code>Max</code>. The inspection passes when the input value is within the required limit without interruption for the duration of stabilization time.</p>
<h3 id="tcodatainspector">TcoDataInspector</h3>
<p><a href="../../../api/TcoInspectors/PlcDocu.TcoInspectors.TcoDataInspector.html">API</a></p>
<p><a href="../../../api/TcoInspectors/PlcDocu.TcoInspectors.TcoDataInspectorData.html">Data</a></p>
<p>Provides evaluation of <code>alphanumerical</code> values. The input value compares against the <code>Required</code> value. The inspection passes when the input value matches the required value without interruption for the duration of stabilization time. In addition to exact comparison, data inspector allows for simple pattern matching where <code>#</code> = any number and <code>*</code> = any character.</p>
<h2 id="preserving-overall-result">Preserving overall result</h2>
<p>Overall result of a series of inspections can be preserved in <a href="../../../api/TcoInspectors/PlcDocu.TcoInspectors.TcoComprehensiveResult.html"><code>TcoComprehensiveResult</code></a>. Each inspector has <code>UpdateComprehensiveResult</code> method that provides the update function.
Once <code>UpdateComprehensiveResult</code> marks the overall result as <code>Failed</code>, successive inspection will not overwrite the result.</p>
<h2 id="handling-failure">Handling failure</h2>
<p>When an inspector fails, <code>OnFail()</code> provides a series of methods for making decisions about the process.
In order for this is feature to work the inspector needs to be aware of the coordinator of <code>ITcoCoordinator</code> (e.g. sequencer).
The coordinator must be passed to the inspector by <code>WithCoordinator(coordinator)</code> method.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dialog(<code>RetryState</code>)</td>
<td>Opens dialog for the user to take a decision. Retry state parameter tells from which state the inspection should start again.</td>
</tr>
<tr>
<td>Retry(<code>RetryState</code>)</td>
<td>Retries the inspector. Retry state parameter tells from which state the inspection should start again. When the parameter <code>Retries</code> is set (non zero), the inspection will run only a given number of times; if the inspection does not succeeds the it will continue with the failed result. <code>0</code> value of retries indicates no limit to the number of tests.</td>
</tr>
<tr>
<td>Override()</td>
<td>Marks the inspection as failed but continues with the following states of the coordinator.</td>
</tr>
<tr>
<td>Terminate()</td>
<td>Marks the inspection as failed and aborts the execution of the coordinator. (recovery step or returns to the beginning of the sequence)</td>
</tr>
</tbody>
</table>
<h3 id="single-inspector-with-dialog-in-case-of-failure">Single inspector with <code>Dialog</code> in case of failure</h3>
<img width="622" alt="image" src="https://user-images.githubusercontent.com/61538034/156205362-9e21f32f-5d3a-4790-9f28-b9ecd3fb346c.png">
<pre><code>IF (seq.Step(inStepID := 100,
    inEnabled := TRUE,
    inStepDescription := 'INSPECT DMC CODE')) THEN
    //--------------------------------------------------------
    Data.DmcInspector.WithCoordinator(seq)              // Coordinator                     
        .Inspect(Components.DmcReader)                  // Inspection input
        .UpdateComprehensiveResult(Data.OverallResult)  // Updated overall result
        .OnFail()                                       // Selector what should happen when inspection fails
        .Dialog(50);                                    // On failure dialogue is displayed for the operator to take decision    
    //--------------------------------------------------------          
END_IF;
</code></pre>
<h2 id="single-inspector-with-carryon-in-case-of-failure">Single inspector with <code>CarryOn</code> in case of failure</h2>
<pre><code>IF (seq.Step(inStepID := 100,
    inEnabled := TRUE,
    inStepDescription := 'INSPECT DMC CODE')) THEN
    //--------------------------------------------------------
    Data.DmcInspector.WithCoordinator(seq)              // Coordinator                     
        .Inspect(Components.DmcReader)                  // Inspection input
        .UpdateComprehensiveResult(Data.OverallResult)  // Updated overall result
        .OnFail()                                       // Selector what should happen when inspection fails
        .CarryOn();                                   // On failure sets overall result to fails but continues with in the sequence
    //--------------------------------------------------------          
END_IF;
</code></pre>
<h2 id="single-inspector-with-terminate-in-case-of-failure">Single inspector with <code>Terminate</code> in case of failure</h2>
<pre><code>IF (seq.Step(inStepID := 100,
    inEnabled := TRUE,
    inStepDescription := 'INSPECT DMC CODE')) THEN
    //--------------------------------------------------------
    Data.DmcInspector.WithCoordinator(seq)              // Coordinator                     
        .Inspect(Components.DmcReader)                  // Inspection input
        .UpdateComprehensiveResult(Data.OverallResult)  // Updated overall result
        .OnFail()                                       // Selector what should happen when inspection fails
        .Terminate();                                   // On failure sets overall result to fails and terminates the sequence
    //--------------------------------------------------------          
END_IF;
</code></pre>
<h2 id="single-inspector-with-retry-in-case-of-failure">Single inspector with <code>Retry</code> in case of failure</h2>
<pre><code>IF (seq.Step(inStepID := 100,
    inEnabled := TRUE,
    inStepDescription := 'INSPECT DMC CODE')) THEN
    //--------------------------------------------------------
    Data.DmcInspector.WithCoordinator(seq)              // Coordinator                     
        .Inspect(Components.DmcReader)                  // Inspection input
        .UpdateComprehensiveResult(Data.OverallResult)  // Updated overall result
        .OnFail()                                       // Selector what should happen when inspection fails
        .Retry(50);                                     // On failure retries the check until succeds.
    //--------------------------------------------------------          
END_IF;
</code></pre>
<h2 id="evaluating-multiple-inspectors-at-once">Evaluating multiple inspectors at once</h2>
<h3 id="multiple-inspectors-with-dialog-in-case-of-failure">Multiple inspectors with <code>Dialog</code> in case of failure</h3>
<img width="636" alt="image" src="https://user-images.githubusercontent.com/61538034/156204670-a84aa7bb-f144-4b2c-a0cb-f9933f3468b1.png">
<pre><code>VAR
    // Helper for evaluation of multiple inspectors
    Eval : TcoInspectors.TcoInspectionGroup(THIS^);
END_VAR
//---------------------------------------------------------

IF MS.Step(Uid := 260, 
           Enabled := TRUE, 
           HmiMessage := '&lt;#KONTROLA SPRAVNEHO PRIPRAVKU#&gt;') THEN
//--------------------------------------------------------------        
    Eval.WithCoordinator(MS)                                                // Tells which coordinator (sequencer) is used
        .Act()                                                              // Make inspections available
        .Inspect(ProcessData.Data.Cu1.LogicCheck.Inspect(FALSE))            // Inspectors 
        .Inspect(ProcessData.Data.Cu1.LogicCheck1.Inspect(FALSE))
        .Inspect(ProcessData.Data.Cu1.LogicCheck1.Inspect(FALSE))
        .UpdateComprehensiveResult(ProcessData.Data.EntityHeader.Results)   // Update global result
        .OnFail()                                                           // Selection of action in case of failure
        .Dialog(260);                                                       // Shows dialogue
//--------------------------------------------------------------    
END_IF
</code></pre>
<h3 id="multiple-inspectors-with-carryon-in-case-of-failure">Multiple inspectors with <code>CarryOn</code> in case of failure</h3>
<pre><code>VAR
    // Helper for evaluation of multiple inspectors
    Eval : TcoInspectors.TcoInspectionGroup(THIS^);
END_VAR
//---------------------------------------------------------

IF MS.Step(Uid := 260, 
           Enabled := TRUE, 
           HmiMessage := '&lt;#KONTROLA SPRAVNEHO PRIPRAVKU#&gt;') THEN
//--------------------------------------------------------------        
    Eval.WithCoordinator(MS)                                                // Tells which coordinator (sequencer) is used
        .Act()                                                              // Make inspections available
        .Inspect(ProcessData.Data.Cu1.LogicCheck.Inspect(FALSE))            // Inspectors 
        .Inspect(ProcessData.Data.Cu1.LogicCheck1.Inspect(FALSE))
        .Inspect(ProcessData.Data.Cu1.LogicCheck1.Inspect(FALSE))
        .UpdateComprehensiveResult(ProcessData.Data.EntityHeader.Results)   // Update global result
        .OnFail()                                                           // Selection of action in case of failure
        .CarryOn();                                                         // Marks as failed but continues go ahead
//--------------------------------------------------------------    
END_IF
</code></pre>
<h3 id="multiple-inspectors-with-terminate-in-case-of-failure">Multiple inspectors with <code>Terminate</code> in case of failure</h3>
<pre><code>VAR
    // Helper for evaluation of multiple inspectors
    Eval : TcoInspectors.TcoInspectionGroup(THIS^);
END_VAR
//---------------------------------------------------------

IF MS.Step(Uid := 260, 
           Enabled := TRUE, 
           HmiMessage := '&lt;#KONTROLA SPRAVNEHO PRIPRAVKU#&gt;') THEN
//--------------------------------------------------------------        
    Eval.WithCoordinator(MS)                                                // Tells which coordinator (sequencer) is used
        .Act()                                                              // Make inspections available
        .Inspect(ProcessData.Data.Cu1.LogicCheck.Inspect(FALSE))            // Inspectors 
        .Inspect(ProcessData.Data.Cu1.LogicCheck1.Inspect(FALSE))
        .Inspect(ProcessData.Data.Cu1.LogicCheck1.Inspect(FALSE))
        .UpdateComprehensiveResult(ProcessData.Data.EntityHeader.Results)   // Update global result
        .OnFail()                                                           // Selection of action in case of failure
        .Terminate();                                                       // Marks as failed and abandons the sequence
//--------------------------------------------------------------    
END_IF
</code></pre>
<h3 id="multiple-inspectors-with-retry-in-case-of-failure">Multiple inspectors with <code>Retry</code> in case of failure</h3>
<pre><code>VAR
    // Helper for evaluation of multiple inspectors
    Eval : TcoInspectors.TcoInspectionGroup(THIS^);
END_VAR
//---------------------------------------------------------

IF MS.Step(Uid := 260, 
           Enabled := TRUE, 
           HmiMessage := '&lt;#KONTROLA SPRAVNEHO PRIPRAVKU#&gt;') THEN
//--------------------------------------------------------------        
    Eval.WithCoordinator(MS)                                                // Tells which coordinator (sequencer) is used
        .Act()                                                              // Make inspections available
        .Inspect(ProcessData.Data.Cu1.LogicCheck.Inspect(FALSE))            // Inspectors 
        .Inspect(ProcessData.Data.Cu1.LogicCheck1.Inspect(FALSE))
        .Inspect(ProcessData.Data.Cu1.LogicCheck1.Inspect(FALSE))
        .UpdateComprehensiveResult(ProcessData.Data.EntityHeader.Results)   // Update global result
        .OnFail()                                                           // Selection of action in case of failure
        .Retry(200);                                                        // Tries again the inspection from the given step UID
//--------------------------------------------------------------    
END_IF
</code></pre>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/TcOpenGroup/TcOpen.Documentation/blob/dev/articles/TcOpenFramework/TcoInspectors/Introduction.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <p>Generated by <strong>DocFX</strong> | Delivered by TcOpenGroup contributors</p>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
